{% extends 'base.html' %}
{% from "bootstrap/pagination.html" import render_pagination %}


{% block head %}
    <title>{% block title %}{{ "广东工业大学新闻爬虫"|default }}{% endblock title %}</title>

    {%- block metas %}
        {{ super() }}
    {%- endblock metas %}

    {% block styles %}
        {{ super() }}
        <script src="http://how2j.cn/study/js/jquery/2.0.0/jquery.min.js"></script>

        <link href="http://how2j.cn/study/css/bootstrap/3.3.6/bootstrap.min.css" rel="stylesheet">

        <script src="http://how2j.cn/study/js/bootstrap/3.3.6/bootstrap.min.js"></script>

    {% endblock styles %}
{% endblock head %}



{% block body %}
    {% block content %}
        {% block header %}
            <header>
                <div class="page-header">
                    <div class="container">
                        <h1>广东工业大学爬虫系统</h1>
                        <p>一个高效,便捷,灵活的新闻爬取系统,随时可同步更新!</p>
                        <p><a class="btn btn-primary btn-lg" href="{{ url_for('.gdut_index') }}" role="button">返回新闻页&raquo;</a>
                        </p>
                    </div>
                </div>
            </header>
        {% endblock %}

        {% block page_body %}
            <div class="container">
                <div class="row">
                    <div class="col-sm-8 blog-main">
                        <div class="blog-post">
                            <h1>{{ title }}</h1>
                            <hr>
{#                            <p class="blog-post-meta">发布时间: {{ release_date }}</p>#}
{#                            <pre><code>&nbsp;&nbsp;&nbsp;&nbsp;{{ jianjie }}</code></pre>#}
{#                            <h2>正文</h2>#}
                            {% for item in all_news %}
{#                                {% if "src" in item.keys %}#}
                                {% if item["src"] != None %}
                                    <p>
                                        <span><a href="{{ item["link"] }}"><img src="{{ item["src"] }}" alt="">{{ item["title"] }}</a></span>
                                    </p>
                                    <br>
                                {% else %}
                                    <p> <span><a href="{{ item["link"] }}">{{ item["title"] }}</a></span></p>
                                    <br>
                                {% endif %}


                            {% endfor %}

{#                            <h2>图片</h2>#}
                            {% for img_link in img_link_list %}
                                <p>
                                    <img src="{{ img_link }}" alt="">
                                </p>
                                <br>
                            {% endfor %}
                        </div><!-- /.blog-post -->

                    </div><!-- /.blog-main -->
                </div><!-- /.row -->
            </div><!-- /.container -->
        {% endblock %}
    {% endblock %}

    {% block scripts %}
        <script src="https://cdn.jsdelivr.net/npm/jquery@1.12.4/dist/jquery.min.js"></script>
        <!-- 加载 Bootstrap 的所有 JavaScript 插件。你也可以根据需要只加载单个插件。 -->
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@3.3.7/dist/js/bootstrap.min.js"></script>
        <script src="{{ bootstrap_find_resource('jquery.js', cdn='jquery') }}"></script>
        <script src="{{ bootstrap_find_resource('js/bootstrap.js', cdn='bootstrap') }}"></script>
    {% endblock %}
{% endblock %}
